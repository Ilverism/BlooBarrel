
<!-- All Releases Area -->
<div class="flex flex-col items-center justify-center mt-12 {performedFirstFetch ? '' : 'hidden'} pb-32">

    <div class="header-large-flat">
        All Releases
    </div>

    {#if data.releases.length == 0}
        <p class="text-3xl italic text-slate-400 font-light mt-12">
            No releases found.
        </p>
    {:else}

        {#each data.releases??[] as r (r.id)}

            <div class="mb-8 rounded-2xl shadow p-6 bg-base-100">

                <!-- Release title -->
                <h2 class="text-xl font-semibold flex items-center gap-3 mb-2">
                    {r.name ?? r.tag_name}
                    {#if r.prerelease}
                        <span class="badge badge-warning">pre-release</span>
                    {/if}
                </h2>

                <!-- Asset buttons -->
                <div class="flex flex-col gap-3 mt-4">
                    {#each r.assets as a}
                        <a
                            href={a.browser_download_url}
                            class="hover:scale-101 hover:bg-blue-500/10" 
                            download
                            target="_blank"
                            rel="noopener"
                        >
                            {a.name} ({Math.round(a.size / 1024 / 1024)} MB)
                        </a>
                    {/each}
                </div>

                <!-- Highlight recommended asset -->
                {#if bestAsset(r.assets)}
                    <p class="mt-2 text-sm">
                        <em>
                            Recommended for your system: {bestAsset(r.assets).name}
                        </em>
                    </p>
                {/if}

            </div>

        {/each}

    {/if}

</div>